# 带解码的网页中转播放器

此项目实现了一个 Web 应用，其提供的服务为：

1. 暴露一个入口地址，其接受一个 base64 编码的视频文件直链（格式形如：<https://node.encmys.cn:19194/api/v4/file/content/vR5h2/0/2024-10-28.mp4?sign=wxeJvaD37HNzN1nKXHiF9VvZXNpENySeIuKo4IKgYRI%3D%3A1765717441>）作为查询参数
2. 此入口地址被触发后，接着在客户端要求选择此视频文件的播放质量（比如 720P 1M、1080P 4M 等）
3. 在服务端将此视频文件下载，并利用宿主机的 ffmpeg 将其解码到指定质量
4. 将解码后的文件传输到客户端，并且在客户端界面播放

还有一些附加功能：

- 支持仅播放一个视频直链对应的音频
- 支持播放期间动态调整播放质量，断点续播

这是为了与 cloudreve 等文件存储服务配合，节省客户端流量地播放视频资源。

## 部署

这个项目导出一个 Docker 镜像，可以直接使用 docker run 部署。

## 技术栈

项目后端用 node.js + ts 实现，前端则为 vue，依赖由 pnpm 管理。
